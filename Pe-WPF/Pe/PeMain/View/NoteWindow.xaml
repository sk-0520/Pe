<AW:ViewModelCommonDataWindow
	x:Class="ContentTypeTextNet.Pe.PeMain.View.NoteWindow"
	x:TypeArguments="AVM:NoteViewModel"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
	xmlns:AVM="clr-namespace:ContentTypeTextNet.Pe.PeMain.ViewModel"
	xmlns:AP="clr-namespace:ContentTypeTextNet.Pe.PeMain.View.Parts"
	xmlns:AW="clr-namespace:ContentTypeTextNet.Pe.PeMain.View.Parts.Window"
	xmlns:SC="clr-namespace:ContentTypeTextNet.Library.SharedLibrary.View.Converter;assembly=SharedLibrary"
	ShowInTaskbar="False" 
	WindowStyle="None"
	ResizeMode="CanResize"
	AllowsTransparency="True"
	WindowStartupLocation="Manual"
	Title="NoteWindow"
	Left="{Binding WindowLeft, Mode=TwoWay}"
	Top="{Binding WindowTop, Mode=TwoWay}"
	Width="{Binding WindowWidth, Mode=TwoWay}"
	Height="{Binding WindowHeight, Mode=TwoWay}"
	Visibility="{Binding Visibility}"
	Topmost="{Binding TopMost}"
	BorderThickness="{Binding ResizeThickness}"
	BorderBrush="{Binding BorderBrush}"
>
	<i:Interaction.Triggers>
		<i:EventTrigger EventName="Deactivated">
			<i:InvokeCommandAction Command="{Binding SaveIndexCommnad}"></i:InvokeCommandAction>
		</i:EventTrigger>
	</i:Interaction.Triggers>
	<AW:CommonDataWindow.Resources>
		<SC:LogicalNotConverter x:Key="LogicalNotConverter"/>
	</AW:CommonDataWindow.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="{Binding TitleHeight, Mode=OneWay}"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
		<Grid Grid.Row="0">
			<Grid.Resources>
				<Style TargetType="Button">
					<Setter Property="Focusable" Value="False"/>
				</Style>
			</Grid.Resources>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*" />
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="Auto" />
			</Grid.ColumnDefinitions>
			<TextBlock Grid.Column="0" x:Name="Caption" />
			<Button Grid.Column="1" Visibility="{Binding CaptionButtonVisibility}">
				<TextBlock Text="_" />
			</Button>
			<Button Grid.Column="2" Visibility="{Binding CaptionButtonVisibility}">
				<TextBlock Text="y" />
			</Button>
			<Button Grid.Column="3" Visibility="{Binding CaptionButtonVisibility}">
				<TextBlock Text="x" />
			</Button>
		</Grid>
		<TextBox Grid.Row="1" IsReadOnly="{Binding IsLocked}" Text="{Binding Body, Mode=TwoWay, UpdateSourceTrigger=LostFocus}" Focusable="True" AcceptsReturn="True" AcceptsTab="True" />
	</Grid>
</AW:ViewModelCommonDataWindow>
