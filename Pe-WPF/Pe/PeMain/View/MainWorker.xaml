<ResourceDictionary
	x:Class="ContentTypeTextNet.Pe.PeMain.View.MainWorker"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:Taskbar="http://www.hardcodet.net/taskbar"
	xmlns:local="clr-namespace:ContentTypeTextNet.Pe.PeMain.ViewModel"
	xmlns:UI="clr-namespace:ContentTypeTextNet.Pe.PeMain.View.Parts"
	xmlns:SC="clr-namespace:ContentTypeTextNet.Library.SharedLibrary.View.Converter;assembly=SharedLibrary"
>
	<ResourceDictionary.MergedDictionaries>
		<ResourceDictionary>
			<SC:LogicalNotConverter x:Key="LogicalNotConverter"/>
		</ResourceDictionary>
	</ResourceDictionary.MergedDictionaries>

	<ContextMenu x:Shared="false" x:Key="TasktrayContextMenu">
		<MenuItem UI:XamlTag.LanguageKey="tasktray/setting" Header="setting" Command="{Binding ShowSettingWindowCommand}" />
		<MenuItem UI:XamlTag.LanguageKey="tasktray/toolbar" Header="toolbar" ItemsSource="{Binding LauncherToolbar}">
			<MenuItem.ItemContainerStyle>
				<Style TargetType="MenuItem">
					<Setter Property="IsChecked" Value="{Binding Visible, Mode=OneWay}"/>
					<Setter Property="Command" Value="{Binding ChangeVisibleCommand}" />
					<Setter Property="CommandParameter" Value="{Binding Visible, Converter={StaticResource LogicalNotConverter}}" />
				</Style>
			</MenuItem.ItemContainerStyle>
			<MenuItem.ItemTemplate>
				<DataTemplate>
					<StackPanel Orientation="Horizontal">
						<Image Source="{Binding ScreenPosition}" />
						<TextBlock Text="{Binding ScreenName}" />
					</StackPanel>
				</DataTemplate>
			</MenuItem.ItemTemplate>
		</MenuItem>
		<MenuItem UI:XamlTag.LanguageKey="tasktray/note"    Header="note">
			<MenuItem Header="create" Command="{Binding CreateNoteItemCommand}" />
			<MenuItem Header="compact" />
			<MenuItem Header="hide" />
			<Separator />
			<MenuItem Header="front" />
			<Separator />
		</MenuItem>
		<MenuItem UI:XamlTag.LanguageKey="tasktray/command" Header="command" />
		<MenuItem UI:XamlTag.LanguageKey="tasktray/log"     Header="log" Command="{Binding SwitchLoggingWindowCommand}" IsChecked="{Binding Logging.Visible, Mode=OneWay}" />
		<Separator />
		<MenuItem UI:XamlTag.LanguageKey="tasktray/log" Header="system-env" />
		<Separator />
		<MenuItem UI:XamlTag.LanguageKey="tasktray/about" Header="about" />
		<MenuItem UI:XamlTag.LanguageKey="tasktray/exit" Header="exit" Command="{Binding ExitApplicationCommand}" />
	</ContextMenu>


	<!-- the application's NotifyIcon - started from App.xaml.cs. Declares its own view model. -->
	<Taskbar:TaskbarIcon 
		x:Key="NotifyIcon"
		IconSource="{Binding ApplicationIcon, Mode=OneWay}"
		ToolTipText="Double-click for window, right-click for menu"
		ContextMenu="{StaticResource TasktrayContextMenu}"
	/>
</ResourceDictionary>