name: Package latest version

on:
  push:
  workflow_call:
  workflow_dispatch:

jobs:
  package:
    name: "Package"
    runs-on: windows-latest

    strategy:
      matrix:
        PLATFORM: ["x86", "x64"]

    steps:
      - name: <Checkout>
        uses: actions/checkout@v3

      - name: <Build>
        shell: pwsh
        run: .\Build\package-latest-version.ps1 -Platform ${{ matrix.PLATFORM }}

      - name: <Upload>
        uses: actions/upload-artifact@v3
        with:
          name: package-${{ matrix.PLATFORM }}
          path: package/*
